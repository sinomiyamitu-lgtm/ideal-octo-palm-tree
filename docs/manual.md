# ポートフォリオサイト 操作マニュアル（全機能）

## 概要
- 本サイトは作品一覧・進捗管理・プロフィールを統合したポートフォリオです。
- 閲覧用トップ(`/`)と編集用(`/edit`, `/edit/progress`)で構成されます。
- テーマはライト/ダークを自動判定（切替に対応）。

## ログインと編集モード
- 認証方式：ログインID＋パスワード（既定 `admin` / `1234`）。
- 設定場所：`.env` の `VITE_EDIT_USER` / `VITE_EDIT_PASSWORD` または `src/config/auth.json` の `editUser` / `editPassword`。
- セッション：TTL（既定15分、`VITE_AUTH_TTL_MIN`で変更可）。5回連続失敗で10分ロック。
- 未認証で `/edit` または `/edit/progress` にアクセスすると認証ゲートが表示されます。
- 認証後はヘッダー右上の「ログアウト」から終了できます。

## 閲覧トップ（Home）
- 検索バー：タイトル／タグ／説明でフィルタ。タグ候補のクイック選択あり。
- プロフィールカード：名前・自己紹介・SNSリンクを表示、詳細モーダルで拡張情報を確認。
- 作品カード：サムネイル・タイトル・説明・公開/更新日を表示。「もっと見る」で詳細モーダル。
- 進捗一覧：ステータス別の要約グリッド（詳細モーダルあり）。

## 作品管理（Edit）
- 左パレット：作品カードの追加、共通ブロックの説明やテンプレート。
- 中央リスト：ドラッグ＆ドロップで並び替え、カード右上アイコンで編集/削除。
- 右フォーム：作品タイトル、タグ（末尾ドット自動正規化）、説明、サムネイル/メディアURL、添付ファイルを設定。
- 添付：複数追加可。エクスポート時は `data:`URL に変換され、オフラインでも閲覧可能。

## プロフィール管理
- 名前、自己紹介、アバターURL、SNSリンク（例：X、YouTube、Roblox など）を編集。
- 閲覧時は簡易カード＋モーダルで表示。

## 進捗管理（Kanban / List）
- `/edit/progress` で進捗編集画面。
- カンバン：列（未着手/進行中/完了）へドラッグでステータス変更。
- リスト：カードの並び替え、編集/削除。進捗率バーと期限ラベル（期限接近/超過）表示。
- 各項目でタイトル、説明、タグ、進捗率、ステータス、優先度、期限、添付などを編集。

## 検索・フィルタ
- タグ選択とキーワードで統合検索（作品・進捗）。
- ステータスフィルタ（未着手/進行中/完了）を組み合わせ可能。

## モーダル表示
- 作品モーダル：YouTube/Vimeo自動埋め込み、`data:video` 対応。
- 進捗モーダル：進捗率バー、現在/完成イメージ、説明、添付を表示。
- プロフィールモーダル：アバター、自己紹介、SNSリンクを表示。

## エクスポート（オフラインビューア）
- `ExportPanel` から `viewer.html`（単一ファイル）と `viewer-data.json`（データのみ）を出力。
- グローバルCSSを同梱し、サイトの見た目を再現。
- 外部URLは `data:`URLへ変換して完全オフライン閲覧に対応（可能な範囲）。

## データ保存
- `localStorage` キー：`portfolio_projects`（作品）、`portfolio_profile`（プロフィール）。
- 認証セッションはTTL管理（永続保存なし）。

## 開発サーバ
- 起動：`npm run dev`（Network アドレスのみ出力。例：`http://192.168.x.x:5173/`）。
- 設定：`vite.config.js` の `server.host = true`、`server.open = 'network'`（自動ブラウザ起動なし、ネットワークURLのみ）。

## トラブルシューティング
- 認証：`.env` の `VITE_EDIT_USER` / `VITE_EDIT_PASSWORD` または `src/config/auth.json` の `editUser` / `editPassword` を確認。
- TTL：`VITE_AUTH_TTL_MIN` を調整（分）。既定は15分。
- 動画埋め込み不可：URL形式を確認（`https://youtu.be/...` / `https://www.youtube.com/watch?v=...` / `https://vimeo.com/...`）。
- 添付が開けない：`data:`URLのサイズが大きい場合はブラウザ制限に当たることがあります。容量削減か外部ホスト利用をご検討ください。

## 既存仕様からの変更点
- プレゼンテーションモード（10クリックのホットコーナー）は廃止。
- 認証方式を「パスワードのみ」から「ログインID＋パスワード」に変更。
- ドキュメントを現仕様に合わせて更新。